<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>AskDoc Admin</title>
  <link rel="stylesheet" href="style.css">
</head>

<body>
  <header>
    <h1>AskDoc</h1>
    <span class="api-key" id="apiKeyStatus">No API Key</span>
  </header>

  <nav>
    <a href="#" class="active" data-section="dashboard">Dashboard</a>
    <a href="#" data-section="collections">Collections</a>
    <a href="#" data-section="sites">Sites</a>
  </nav>

  <div class="container">
    <!-- Dashboard -->
    <div id="dashboard-section">
      <div class="stats-grid">
        <div class="stat-card">
          <h3>Collections</h3>
          <div class="value" id="stat-collections">0</div>
        </div>
        <div class="stat-card">
          <h3>Documents</h3>
          <div class="value" id="stat-documents">0</div>
        </div>
        <div class="stat-card">
          <h3>Sites</h3>
          <div class="value" id="stat-sites">0</div>
        </div>
        <div class="stat-card">
          <h3>Chats</h3>
          <div class="value" id="stat-chats">0</div>
        </div>
      </div>

      <div class="section">
        <div class="section-header">
          <h2>Quick Actions</h2>
        </div>
        <div class="section-body">
          <button class="btn btn-primary" onclick="showCreateCollectionModal()">+ New Collection</button>
          <button class="btn btn-secondary" onclick="showCreateSiteModal()">+ New Site</button>
        </div>
      </div>
    </div>

    <!-- Collections -->
    <div id="collections-section" class="hidden">
      <div class="section">
        <div class="section-header">
          <h2>Collections</h2>
          <button class="btn btn-primary" onclick="showCreateCollectionModal()">+ New Collection</button>
        </div>
        <div class="section-body">
          <table>
            <thead>
              <tr>
                <th>ID</th>
                <th>Name</th>
                <th>Documents</th>
                <th>Created</th>
                <th>Actions</th>
              </tr>
            </thead>
            <tbody id="collections-list"></tbody>
          </table>
        </div>
      </div>
    </div>

    <!-- Sites -->
    <div id="sites-section" class="hidden">
      <div class="section">
        <div class="section-header">
          <h2>Sites</h2>
          <button class="btn btn-primary" onclick="showCreateSiteModal()">+ New Site</button>
        </div>
        <div class="section-body">
          <table>
            <thead>
              <tr>
                <th>Name</th>
                <th>Domain</th>
                <th>Collections</th>
                <th>Actions</th>
              </tr>
            </thead>
            <tbody id="sites-list"></tbody>
          </table>
        </div>
      </div>
    </div>
  </div>

  <!-- Create Collection Modal -->
  <div class="modal" id="createCollectionModal">
    <div class="modal-content">
      <div class="modal-header">
        <h3>Create Collection</h3>
        <button class="modal-close" onclick="closeModal('createCollectionModal')">&times;</button>
      </div>
      <div class="modal-body">
        <div class="form-group">
          <label>Name</label>
          <input type="text" id="collectionName" placeholder="My Documents">
        </div>
        <div class="form-group">
          <label>Description</label>
          <textarea id="collectionDescription" rows="3" placeholder="Optional description"></textarea>
        </div>
      </div>
      <div class="modal-footer">
        <button class="btn btn-secondary" onclick="closeModal('createCollectionModal')">Cancel</button>
        <button class="btn btn-primary" onclick="createCollection()">Create</button>
      </div>
    </div>
  </div>

  <!-- Create Site Modal -->
  <div class="modal" id="createSiteModal">
    <div class="modal-content">
      <div class="modal-header">
        <h3>Create Site</h3>
        <button class="modal-close" onclick="closeModal('createSiteModal')">&times;</button>
      </div>
      <div class="modal-body">
        <div class="form-group">
          <label>Name</label>
          <input type="text" id="siteName" placeholder="My Website">
        </div>
        <div class="form-group">
          <label>Domain</label>
          <input type="text" id="siteDomain" placeholder="docs.example.com">
        </div>
        <div class="form-group">
          <label>Collections</label>
          <div id="siteCollections"
            style="max-height:200px;overflow-y:auto;border:1px solid #d1d5db;border-radius:8px;padding:8px;"></div>
        </div>
      </div>
      <div class="modal-footer">
        <button class="btn btn-secondary" onclick="closeModal('createSiteModal')">Cancel</button>
        <button class="btn btn-primary" onclick="createSite()">Create</button>
      </div>
    </div>
  </div>

  <!-- View Site Modal -->
  <div class="modal" id="viewSiteModal">
    <div class="modal-content" style="width: 600px;">
      <div class="modal-header">
        <h3>Embed Code</h3>
        <button class="modal-close" onclick="closeModal('viewSiteModal')">&times;</button>
      </div>
      <div class="modal-body">
        <p class="text-muted mb-4">Add this code before the closing &lt;/body&gt; tag on your website:</p>
        <div class="embed-code" id="embedCode"></div>
      </div>
      <div class="modal-footer">
        <button class="btn btn-secondary" onclick="copyEmbedCode()">Copy Code</button>
        <button class="btn btn-primary" onclick="closeModal('viewSiteModal')">Done</button>
      </div>
    </div>
  </div>

  <!-- Documents Modal -->
  <div class="modal" id="documentsModal">
    <div class="modal-content" style="width: 700px;">
      <div class="modal-header">
        <h3>Documents - <span id="documentsModalTitle"></span></h3>
        <button class="modal-close" onclick="closeModal('documentsModal')">&times;</button>
      </div>
      <div class="modal-body">
        <div class="upload-area" id="uploadArea">
          <div class="upload-icon">üìÅ</div>
          <div class="upload-text">Drop files here or click to upload<br><small style="opacity:.6">Support multiple
              files</small></div>
        </div>
        <input type="file" id="documentFile" accept=".txt,.md,.pdf,.doc,.docx,.adoc,.html,.htm" multiple
          style="display:none">
        <div id="uploadQueue" style="margin:8px 0"></div>
        <table>
          <thead>
            <tr>
              <th>File Name</th>
              <th>Status</th>
              <th>Chunks</th>
              <th>Actions</th>
            </tr>
          </thead>
          <tbody id="documents-list"></tbody>
        </table>
      </div>
      <div class="modal-footer">
        <button class="btn btn-primary" onclick="closeModal('documentsModal')">Close</button>
      </div>
    </div>
  </div>

  <!-- Chat Modal -->
  <div class="modal" id="chatModal">
    <div class="modal-content" style="width: 650px;">
      <div class="modal-header">
        <h3>üí¨ Chat - <span id="chatModalTitle"></span></h3>
        <button class="modal-close" onclick="closeModal('chatModal')">&times;</button>
      </div>
      <div class="modal-body">
        <div class="chat-container">
          <div class="chat-messages" id="chatMessages"></div>
          <div class="chat-input-area">
            <input type="text" class="chat-input" id="chatInput" placeholder="Ask a question..."
              onkeypress="if(event.key==='Enter')sendChat()">
            <button class="btn btn-primary" id="chatSendBtn" onclick="sendChat()">Send</button>
          </div>
        </div>
      </div>
    </div>
  </div>

  <script src="app.js"></script>
</body>

</html>